(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21b76fee"],{"05aa":function(t,a,e){t.exports=e.p+"img/crown-removebg-preview.e75cd337.png"},"0959":function(t,a,e){t.exports=e.p+"img/egos.565bf3ea.png"},1799:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:{disabled:!t.childPaginations.has_pre}},[e("a",{staticClass:"page-link border-light",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.getPagination(t.childPaginations.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.childPaginations.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.childPaginations.current_page===a}},[e("a",{staticClass:"page-link border-light",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getPagination(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:!t.childPaginations.has_next}},[e("a",{staticClass:"page-link border-light",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.getPagination(t.childPaginations.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},s=[],n={props:["childPaginations"],methods:{getPagination:function(t){var a=this;a.$emit("changePage",t)}}},r=n,c=e("2877"),o=Object(c["a"])(r,i,s,!1,null,null,null);a["a"]=o.exports},"25e0":function(t,a,e){t.exports=e.p+"img/market.955d67a6.png"},2623:function(t,a,e){t.exports=e.p+"img/lion-all.bee916dd.png"},"2d1d":function(t,a,e){t.exports=e.p+"img/lion.89524337.png"},"534a":function(t,a,e){},"7db0":function(t,a,e){"use strict";var i=e("23e7"),s=e("b727").find,n=e("44d2"),r=e("ae40"),c="find",o=!0,l=r(c);c in[]&&Array(1)[c]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!l},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),n(c)},"9b25":function(t,a,e){"use strict";var i=e("534a"),s=e.n(i);s.a},c723:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("div",{staticClass:"position-relative position-fixed market"},[i("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.openModel(a)}}},[i("img",{staticClass:"market-img",attrs:{src:e("25e0"),width:"170",alt:""}}),0!==t.childCarts.length?i("h5",[i("span",{staticClass:"badge badge-danger position-absolute market-num"},[t._v(t._s(t.childCarts.length))])]):t._e()])]),i("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[i("div",{staticClass:"modal-content border-0",staticStyle:{background:"#ffe694"}},[t._m(0),i("div",{staticClass:"modal-body pb-0"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[0!==t.childCarts.length?i("table",{staticClass:"font-weight-bolder h6",staticStyle:{margin:"0 auto"},attrs:{rules:"rows",cellpadding:"10"}},t._l(t.childCarts,(function(a){return i("tbody",{key:a.id,staticClass:"productDetail",on:{click:function(e){return e.preventDefault(),t.getProductDetail(a.product.id)}}},[i("tr",[i("td",{staticClass:"d-none d-sm-table-cell",staticStyle:{width:"20%",padding:"0.3rem"}},[i("img",{staticClass:"img-fluid",staticStyle:{"min-width":"50px"},attrs:{src:a.product.imageUrl,alt:a.product.title}})]),i("td",{staticClass:"text-center"},[i("p",{staticClass:"d-block mb-0"},[t._v(t._s(a.product.title))]),a.coupon?i("div",{staticClass:"badge badge-success"},[t._v("已套用優惠")]):t._e()]),i("td",{staticClass:"text-center d-none d-lg-table-cell"},[i("div",{staticClass:"input-group"},[t._v(" "+t._s(a.qty)+" ")])]),i("td",{staticClass:"d-lg-none"},[i("div",{staticClass:"input-group mb-3",attrs:{id:"inputGroupSelect"}},[i("select",{directives:[{name:"model",rawName:"v-model",value:a.qty,expression:"item.qty"}],staticClass:"custom-select select-text-center",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(a,"qty",e.target.multiple?i:i[0])},function(e){return t.changeQty(a.qty,a.product.id,a.id)}]}},[i("option",{staticClass:"select_style",attrs:{selected:"",disabled:""}},[t._v("數量")]),t._l(10,(function(e){return i("option",{key:e,staticClass:"select_style",domProps:{value:e}},[t._v(t._s(e)+" "+t._s(a.unit))])}))],2)])]),a.coupon?i("td",{staticClass:"text-right"},[i("del",{},[t._v(t._s(t._f("currency")(a.total)))]),i("p",{staticClass:"mb-0 text-danger"},[t._v(t._s(t._f("currency")(a.final_total)))])]):i("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.total)))])])])})),0):0===t.childCarts.length?i("h6",[t._v(" 購物車沒有商品喔，趕快去商城逛逛!! ")]):t._e()])])]),i("div",{staticClass:"modal-footer",staticStyle:{"border-top":"0"}},[0!==t.childCarts.length?i("a",{staticClass:"btn btn-primary btn-light w-100 mt-0 text-warning",attrs:{href:"#",type:"button"},on:{click:function(a){return a.preventDefault(),t.goPay(a)}}},[t._v("結帳去")]):0===t.childCarts.length?i("a",{staticClass:"btn btn-primary btn-light w-100 mt-0 text-warning",attrs:{href:"#",type:"button"},on:{click:function(a){return a.preventDefault(),t.goShop(a)}}},[t._v("來去商城逛逛")]):t._e()])])])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white mb-0"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v("已選購商品")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],n=e("1157"),r=e.n(n),c={data:function(){return{tempCount:0}},props:["childCarts"],watch:{childCarts:function(){var t=this;t.tempCount+=1,1!==t.tempCount&&t.$bus.$emit("message:push","加入購物車成功")}},methods:{openModel:function(){r()("#productModal").modal("show")},goPay:function(){var t=this;r()("#productModal").modal("hide"),t.$router.push("/cart")},goShop:function(){var t=this;r()("#productModal").modal("hide"),t.$router.push("/shop")},getProductDetail:function(t){var a=this;r()("#productModal").modal("hide"),a.$emit("cartUpdateDetail",t)}}},o=c,l=(e("9b25"),e("2877")),d=Object(l["a"])(o,i,s,!1,null,null,null);a["a"]=d.exports},d7fa:function(t,a,e){t.exports=e.p+"img/rider.6d3504ab.png"},e915:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"card product-section-bg text-center",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.getProductDetail(t.item.id)}}},[e("div",{staticClass:"position-relative",staticStyle:{overflow:"hidden"}},[e("img",{staticClass:"product-img",attrs:{src:t.item.imageUrl,alt:"..."}}),e("span",{staticClass:"badge badge-secondary position-absolute",staticStyle:{right:"0",bottom:"0"}},[t._v(t._s(t.item.category))])]),e("div",{staticClass:"px-3 py-2"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.item.title))]),e("p",{staticClass:"card-text text-truncate"},[t._v(t._s(t.item.content))]),t.item.price?e("del",{staticClass:"card-text"},[t._v("售價 $ "+t._s(t.item.origin_price))]):e("span",{staticClass:"card-text"},[t._v("售價 $ "+t._s(t.item.origin_price))]),t.item.price?e("span",{staticClass:"h5 d-inline-block mb-0",staticStyle:{color:"red"}},[t._v("$ "+t._s(t.item.price))]):t._e()]),e("div",{staticClass:"d-flex d-md-block pb-0 pb-md-2",staticStyle:{width:"100%"}},[e("a",{staticClass:"btn product-btn product-btn-left",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getProductDetail(t.item.id)}}},[t._v("查看更多")]),e("a",{staticClass:"btn product-btn product-btn-right",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.addToCart(t.item.id,t.item.title)}}},[t._v("加入購物")])])])])},s=[],n=(e("99af"),e("7db0"),{props:["item"],data:function(){return{carts:[]}},methods:{getProductDetail:function(t){var a=this;a.$router.push("/detail/".concat(t)).catch((function(){}))},addToCart:function(t,a){var e=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/cart");e.$http.get(i).then((function(i){e.carts=i.data.data.carts;var s=e.carts.find((function(t){return t.product.title===a})),n=0;if(s){n=s.qty;var r="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/cart/").concat(s.id);e.$http.delete(r).then((function(t){}))}var c="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/cart"),o={product_id:t,qty:n+1};e.$http.post(c,{data:o}).then((function(t){e.$bus.$emit("updateCart")}))}))}}}),r=n,c=e("2877"),o=Object(c["a"])(r,i,s,!1,null,null,null);a["a"]=o.exports},ecfc:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),i("div",{staticClass:"shop-banner"}),i("div",{staticClass:"shop-bg",attrs:{id:"shopTop"}},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-5 col-lg-4"},[i("div",{staticClass:"sideBar my-3 d-flex justify-content-center sticky-top",staticStyle:{top:"1rem"}},[i("ul",{staticClass:"sideBar-menu h3 pt-5 pl-0"},[i("li",[i("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.tempMenuSwitch(a)}}},[i("img",{attrs:{width:"40",src:e("2623"),alt:""}}),t._v("全部商品")])]),i("li",[i("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.tempMenuSwitch(a)}}},[i("img",{attrs:{width:"40",src:e("d7fa"),alt:""}}),t._v("專屬傭兵")])]),i("li",[i("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.tempMenuSwitch(a)}}},[i("img",{attrs:{width:"40",src:e("05aa"),alt:""}}),t._v("獨家技術")])]),i("li",[i("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.tempMenuSwitch(a)}}},[i("img",{attrs:{width:"40",src:e("0959"),alt:""}}),t._v("十大建設")])]),i("li",[i("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.tempMenuSwitch(a)}}},[i("img",{attrs:{width:"40",src:e("2d1d"),alt:""}}),t._v("嗆人必備")])])])])]),i("div",{staticClass:"col-md-7 col-lg-8"},[0!==t.productsFilter.length?i("div",{staticClass:"row"},t._l(t.productsFilter,(function(t){return i("div",{key:t.id,staticClass:"col-md-6 col-6 my-3 col-lg-4"},[i("ProductCard",{attrs:{item:t}})],1)})),0):i("h5",{staticClass:"text-warning h4 mt-3 text-center"},[t._v("小編正在趕上架喔....")]),t.filterProducts.length>10?i("Pagination",{staticClass:"d-flex justify-content-center",attrs:{childPaginations:t.pagination,cardSize:t.sizeCol4},on:{changePage:t.getPageProducts}}):t._e()],1)])])]),i("MarketCart",{attrs:{childCarts:t.carts}})],1)},s=[],n=(e("99af"),e("4de4"),e("1799")),r=e("e915"),c=e("c723"),o=e("1157"),l=e.n(o),d={components:{Pagination:n["a"],ProductCard:r["a"],MarketCart:c["a"]},data:function(){return{allProducts:[],pageProducts:[],filterProducts:[],singleProduct:{},tempMenu:"全部商品",pagination:{},sizeCol4:!1,isLoading:!1,carts:[]}},created:function(){var t=this;t.getAllProducts(),t.getPageProducts(),t.getParams(),t.getCart(),t.$bus.$on("updateCart",(function(){t.getCart()})),setTimeout((function(){var t=l()("#shopTop").offset().top;l()("html, body").animate({scrollTop:t},800)}),10)},methods:{getCart:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/cart"),a=this;a.$http.get(t).then((function(t){a.carts=t.data.data.carts}))},getAllProducts:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/products/all"),a=this;a.isLoading=!0,a.$http.get(t).then((function(t){a.allProducts=t.data.products,a.isLoading=!1}))},getPageProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/products?page=").concat(t),e=this;e.isLoading=!0,e.$http.get(a).then((function(t){e.pageProducts=t.data.products,e.pagination=t.data.pagination,e.isLoading=!1}))},getParams:function(){var t=this;t.$route.query.category&&(t.tempMenu=t.$route.query.category)},tempMenuSwitch:function(t){var a=this;a.tempMenu=t.target.text,a.$route.query.category&&a.$router.push("/shop")}},computed:{productsFilter:function(){var t=this,a=t.allProducts.filter((function(a){return"全部商品"===t.tempMenu?a:t.tempMenu===a.category}));if(t.filterProducts=a,a.length>10){var e=t.pageProducts.filter((function(a){return"全部商品"===t.tempMenu?a:t.tempMenu===a.category}));return e}return a}}},u=d,p=e("2877"),g=Object(p["a"])(u,i,s,!1,null,null,null);a["default"]=g.exports}}]);
//# sourceMappingURL=chunk-21b76fee.0c49d007.js.map