(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00c2376b"],{"62b3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[s("template",{slot:"default"},[s("img",{attrs:{width:"400",src:a("7937"),alt:""}})])],2),s("div",{staticClass:"cart-bg"},[s("div",{staticClass:"container",attrs:{id:"cartTop"}},[t._m(0),s("div",{staticClass:"pb-5 row flex-md-row"},[s("div",{staticClass:"py-5 col-md-8"},[s("div",{staticClass:"d-flex justify-content-center"},[0!==t.carts.length?s("table",{staticClass:"font-weight-bolder h6",staticStyle:{"border-top":"4px double rgb(70, 39, 5)"},attrs:{rules:"rows",cellpadding:"10"}},[t._m(1),t._l(t.carts,(function(e,a){return s("tbody",{key:e.id},[s("tr",[s("td",{staticClass:"text-center"},[s("a",{staticClass:"text-dark btn",staticStyle:{padding:"0"},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.deleteCart(e.id)}}},[s("i",{staticClass:"far fa-trash-alt h5"})])]),s("td",{staticClass:"d-none d-lg-table-cell",staticStyle:{width:"20%",padding:"0.3rem"}},[s("img",{staticClass:"img-fluid",staticStyle:{"min-width":"100px"},attrs:{src:e.product.imageUrl,alt:e.product.title}})]),s("td",{staticClass:"text-center"},[s("p",{staticClass:"d-block mb-0"},[t._v(t._s(e.product.title))]),e.coupon?s("div",{staticClass:"badge badge-success"},[t._v("已套用優惠")]):t._e()]),s("td",{staticClass:"text-center d-none d-lg-table-cell"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn btn-light",staticStyle:{"border-radius":"0"},attrs:{type:"button"},on:{click:function(s){return t.changeQty(e.qty-1,e.product.id,e.id,a)}}},[t._v("-")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"form-control text-center border-light",attrs:{type:"text",disabled:""},domProps:{value:e.qty},on:{input:function(a){a.target.composing||t.$set(e,"qty",a.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-light",staticStyle:{"border-radius":"0"},attrs:{type:"button"},on:{click:function(s){return t.changeQty(e.qty+1,e.product.id,e.id,a)}}},[t._v("+")])])])]),s("td",{staticClass:"d-lg-none"},[s("div",{staticClass:"input-group mb-3",attrs:{id:"inputGroupSelect"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"custom-select select-text-center",on:{change:[function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"qty",a.target.multiple?s:s[0])},function(s){return t.changeQty(e.qty,e.product.id,e.id,a)}]}},[s("option",{staticClass:"select_style",attrs:{selected:"",disabled:""}},[t._v("數量")]),t._l(10,(function(a){return s("option",{key:a,staticClass:"select_style",domProps:{value:a}},[t._v(t._s(a)+" "+t._s(e.unit))])}))],2)])]),e.coupon?s("td",{staticClass:"text-right"},[s("del",{},[t._v(t._s(t._f("currency")(e.total)))]),s("p",{staticClass:"mb-0 text-danger"},[t._v(t._s(t._f("currency")(e.final_total)))])]):s("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("currency")(e.total))+" ")])])])}))],2):0===t.carts.length?s("h5",[t._v("購物車沒有商品喔，趕快去"),s("router-link",{staticClass:"text-light font-weight-bold",attrs:{to:"/shop"}},[t._v(" 商城 ")]),t._v("逛逛!!")],1):t._e()])]),s("div",{staticClass:"my-5 col-md-4"},[s("paymentDetail",{attrs:{childPrice:t.price}}),s("div",{staticClass:"input-group input-group-sm mt-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],staticClass:"form-control couple-input",staticStyle:{background:"rgba(0, 0, 0, 0.13)"},attrs:{type:"text",placeholder:"輸入優惠碼 playgame2020 享九折優惠"},domProps:{value:t.couponCode},on:{input:function(e){e.target.composing||(t.couponCode=e.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn-dark btn",staticStyle:{"border-radius":"0"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.enterCoupon(e)}}},[t._v("套用優惠碼")])])]),0!==t.carts.length?s("div",{staticClass:"text-center mt-3"},[s("router-link",{staticClass:"btn btn-dark btn-lg w-100",attrs:{to:"cart/customerinfo"}},[t._v("下一步")])],1):t._e()],1)])])])],1)},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center py-5",staticStyle:{"border-bottom":"2px dashed black"}},[s("div",{staticClass:"col-sm-4 col-md-3 mt-3 d-flex flex-column align-items-center"},[s("img",{staticClass:"d-none d-lg-block",staticStyle:{width:"150px",height:"90px"},attrs:{src:a("ff83"),alt:""}}),s("p",{staticClass:"mb-1 h6"},[t._v("Step 1")]),s("p",{staticClass:"h4 p-1 bg-dark text-white mb-0",staticStyle:{border:"4px double black"}},[t._v("確認購買")])]),s("div",{staticClass:"col-sm-4 col-md-3 mt-3 d-flex flex-column align-items-center"},[s("img",{staticClass:"d-none d-lg-block",staticStyle:{width:"110px",height:"90px"},attrs:{src:a("984b"),alt:""}}),s("p",{staticClass:"mb-1 h6"},[t._v("Step 2")]),s("p",{staticClass:"h4 p-1 mb-0",staticStyle:{border:"4px double black"}},[t._v("填寫資料")])]),s("div",{staticClass:"col-sm-4 col-md-3 mt-3 d-flex flex-column align-items-center"},[s("img",{staticClass:"d-none d-lg-block",staticStyle:{width:"110px",height:"90px"},attrs:{src:a("984b"),alt:""}}),s("p",{staticClass:"mb-1 h6"},[t._v("Step 3")]),s("p",{staticClass:"h4 p-1 mb-0",staticStyle:{border:"4px double black"}},[t._v("完成訂單")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"text-white bg-dark",staticStyle:{"border-bottom":"4px double rgb(70, 39, 5)"}},[a("th",{attrs:{width:"35"}}),a("th",{staticClass:"d-none d-lg-table-cell",attrs:{width:"100"}}),a("th",{staticClass:"text-center",attrs:{width:"200"}},[t._v("品名")]),a("th",{staticClass:"text-center d-none d-lg-table-cell",attrs:{width:"140"}},[t._v("數量")]),a("th",{staticClass:"text-center d-lg-none",attrs:{width:"110"}},[t._v("數量")]),a("th",{staticClass:"text-center",attrs:{width:"100"}},[t._v("價錢")])])}],i=(a("99af"),a("c915")),n=a("1157"),o=a.n(n),l={components:{paymentDetail:i["a"]},data:function(){return{carts:[],price:{},isLoading:!1,couponCode:"",tempProduct:{}}},created:function(){var t=this;t.getCart(),setTimeout((function(){var t=o()("#cartTop").offset().top;o()("html, body").animate({scrollTop:t},0)}),10)},methods:{getCart:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/cart"),e=this;e.isLoading=!0,e.$http.get(t).then((function(t){e.isLoading=!1,e.carts=t.data.data.carts,e.price=t.data.data,e.carts.sort((function(t,e){return e.qty-t.qty}))}))},deleteCart:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/cart/").concat(t);e.isLoading=!0,e.$http.delete(a).then((function(t){e.isLoading=!1,e.getCart()}))},enterCoupon:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/coupon");t.isLoading=!0,t.$http.post(e,{data:{code:t.couponCode}}).then((function(e){t.isLoading=!1,t.getCart()}))},changeQty:function(t,e,a,s){var c=this;c.isLoading=!0;var i="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/cart/").concat(a);c.$http.delete(i).then((function(a){var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/cart"),i={product_id:e,qty:t};c.$http.post(s,{data:i}).then((function(t){c.getCart(),c.isLoading=!1}))}))}}},r=l,d=a("2877"),p=Object(d["a"])(r,s,c,!1,null,null,null);e["default"]=p.exports},7937:function(t,e,a){t.exports=a.p+"img/pageLoading.c32dd434.gif"},"984b":function(t,e,a){t.exports=a.p+"img/firehouse.3b4e494f.png"},c915:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"py-4 px-3",staticStyle:{border:"2px solid rgb(70, 39, 5)"}},[a("h4",{staticClass:"text-dark text-center py-1 mb-0 cart-cal-header"},[t._v("訂單詳情")]),a("div",{staticClass:"d-flex justify-content-between h5 p-2 mt-2"},[a("p",[t._v("總計")]),a("p",[t._v(t._s(t._f("currency")(t.childPrice.total||0)))])]),a("div",{staticClass:"d-flex justify-content-between h5 mb-0 px-2"},[a("p",[t._v("優惠折抵")]),a("p",[t._v(t._s(t._f("currency")(t.childPrice.total-t.childPrice.final_total||0)))])]),a("hr"),a("div",{staticClass:"d-flex justify-content-between h5 mb-0 px-2"},[a("p",{staticClass:"mb-0"},[t._v("應付金額")]),a("p",{staticClass:"mb-0"},[t._v(t._s(t._f("currency")(t.childPrice.final_total||0)))])])])])},c=[],i={props:{childPrice:{type:Object}}},n=i,o=a("2877"),l=Object(o["a"])(n,s,c,!1,null,null,null);e["a"]=l.exports},ff83:function(t,e,a){t.exports=a.p+"img/fight.69cafd58.gif"}}]);
//# sourceMappingURL=chunk-00c2376b.9115de40.js.map