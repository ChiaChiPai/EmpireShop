(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fa7e387"],{"0f2a":function(t,e,a){t.exports=a.p+"img/right.7c0cf868.png"},1870:function(t,e,a){t.exports=a.p+"img/center.c8c857df.png"},"1a75":function(t,e,a){t.exports=a.p+"img/part-img.86670e40.jpg"},"25e0":function(t,e,a){t.exports=a.p+"img/market.955d67a6.png"},"34eb":function(t,e,a){t.exports=a.p+"img/left.984a501e.png"},"534a":function(t,e,a){},"7db0":function(t,e,a){"use strict";var i=a("23e7"),s=a("b727").find,n=a("44d2"),r=a("ae40"),c="find",o=!0,l=r(c);c in[]&&Array(1)[c]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!l},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),n(c)},"9b25":function(t,e,a){"use strict";var i=a("534a"),s=a.n(i);s.a},a434:function(t,e,a){"use strict";var i=a("23e7"),s=a("23cb"),n=a("a691"),r=a("50c4"),c=a("7b0b"),o=a("65f0"),l=a("8418"),d=a("1dde"),u=a("ae40"),p=d("splice"),h=u("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,v=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!h},{splice:function(t,e){var a,i,d,u,p,h,b=c(this),C=r(b.length),w=s(t,C),_=arguments.length;if(0===_?a=i=0:1===_?(a=0,i=C-w):(a=_-2,i=v(f(n(e),0),C-w)),C+a-i>m)throw TypeError(g);for(d=o(b,i),u=0;u<i;u++)p=w+u,p in b&&l(d,u,b[p]);if(d.length=i,a<i){for(u=w;u<C-i;u++)p=u+i,h=u+a,p in b?b[h]=b[p]:delete b[h];for(u=C;u>C-i+a;u--)delete b[u-1]}else if(a>i)for(u=C-i;u>w;u--)p=u+i-1,h=u+a-1,p in b?b[h]=b[p]:delete b[h];for(u=0;u<a;u++)b[u+w]=arguments[u+2];return b.length=C-i+a,d}})},c723:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"position-relative position-fixed market"},[i("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openModel(e)}}},[i("img",{staticClass:"market-img",attrs:{src:a("25e0"),width:"170",alt:""}}),0!==t.childCarts.length?i("h5",[i("span",{staticClass:"badge badge-danger position-absolute market-num"},[t._v(t._s(t.childCarts.length))])]):t._e()])]),i("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[i("div",{staticClass:"modal-content border-0",staticStyle:{background:"#ffe694"}},[t._m(0),i("div",{staticClass:"modal-body pb-0"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[0!==t.childCarts.length?i("table",{staticClass:"font-weight-bolder h6",staticStyle:{margin:"0 auto"},attrs:{rules:"rows",cellpadding:"10"}},t._l(t.childCarts,(function(e){return i("tbody",{key:e.id,staticClass:"productDetail",on:{click:function(a){return a.preventDefault(),t.getProductDetail(e.product.id)}}},[i("tr",[i("td",{staticClass:"d-none d-sm-table-cell",staticStyle:{width:"20%",padding:"0.3rem"}},[i("img",{staticClass:"img-fluid",staticStyle:{"min-width":"50px"},attrs:{src:e.product.imageUrl,alt:e.product.title}})]),i("td",{staticClass:"text-center"},[i("p",{staticClass:"d-block mb-0"},[t._v(t._s(e.product.title))]),e.coupon?i("div",{staticClass:"badge badge-success"},[t._v("已套用優惠")]):t._e()]),i("td",{staticClass:"text-center d-none d-lg-table-cell"},[i("div",{staticClass:"input-group"},[t._v(" "+t._s(e.qty)+" ")])]),i("td",{staticClass:"d-lg-none"},[i("div",{staticClass:"input-group mb-3",attrs:{id:"inputGroupSelect"}},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"custom-select select-text-center",on:{change:[function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"qty",a.target.multiple?i:i[0])},function(a){return t.changeQty(e.qty,e.product.id,e.id)}]}},[i("option",{staticClass:"select_style",attrs:{selected:"",disabled:""}},[t._v("數量")]),t._l(10,(function(a){return i("option",{key:a,staticClass:"select_style",domProps:{value:a}},[t._v(t._s(a)+" "+t._s(e.unit))])}))],2)])]),e.coupon?i("td",{staticClass:"text-right"},[i("del",{},[t._v(t._s(t._f("currency")(e.total)))]),i("p",{staticClass:"mb-0 text-danger"},[t._v(t._s(t._f("currency")(e.final_total)))])]):i("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.total)))])])])})),0):0===t.childCarts.length?i("h6",[t._v(" 購物車沒有商品喔，趕快去商城逛逛!! ")]):t._e()])])]),i("div",{staticClass:"modal-footer",staticStyle:{"border-top":"0"}},[0!==t.childCarts.length?i("a",{staticClass:"btn btn-primary btn-light w-100 mt-0 text-warning",attrs:{href:"#",type:"button"},on:{click:function(e){return e.preventDefault(),t.goPay(e)}}},[t._v("結帳去")]):0===t.childCarts.length?i("a",{staticClass:"btn btn-primary btn-light w-100 mt-0 text-warning",attrs:{href:"#",type:"button"},on:{click:function(e){return e.preventDefault(),t.goShop(e)}}},[t._v("來去商城逛逛")]):t._e()])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-dark text-white mb-0"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("已選購商品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],n=a("1157"),r=a.n(n),c={data:function(){return{tempCount:0}},props:["childCarts"],watch:{childCarts:function(){var t=this;t.tempCount+=1,1!==t.tempCount&&t.$bus.$emit("message:push","加入購物車成功")}},methods:{openModel:function(){r()("#productModal").modal("show")},goPay:function(){var t=this;r()("#productModal").modal("hide"),t.$router.push("/cart")},goShop:function(){var t=this;r()("#productModal").modal("hide"),t.$router.push("/shop")},getProductDetail:function(t){var e=this;r()("#productModal").modal("hide"),e.$emit("cartUpdateDetail",t)}}},o=c,l=(a("9b25"),a("2877")),d=Object(l["a"])(o,i,s,!1,null,null,null);e["a"]=d.exports},e915:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card product-section-bg text-center",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.getProductDetail(t.item.id)}}},[a("div",{staticClass:"position-relative",staticStyle:{overflow:"hidden"}},[a("img",{staticClass:"product-img",attrs:{src:t.item.imageUrl,alt:"..."}}),a("span",{staticClass:"badge badge-secondary position-absolute",staticStyle:{right:"0",bottom:"0"}},[t._v(t._s(t.item.category))])]),a("div",{staticClass:"px-3 py-2"},[a("h4",{staticClass:"card-title"},[t._v(t._s(t.item.title))]),a("p",{staticClass:"card-text text-truncate"},[t._v(t._s(t.item.content))]),t.item.price?a("del",{staticClass:"card-text"},[t._v("售價 $ "+t._s(t.item.origin_price))]):a("span",{staticClass:"card-text"},[t._v("售價 $ "+t._s(t.item.origin_price))]),t.item.price?a("span",{staticClass:"h5 d-inline-block mb-0",staticStyle:{color:"red"}},[t._v("$ "+t._s(t.item.price))]):t._e()]),a("div",{staticClass:"d-flex d-md-block pb-0 pb-md-2",staticStyle:{width:"100%"}},[a("a",{staticClass:"btn product-btn product-btn-left",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getProductDetail(t.item.id)}}},[t._v("查看更多")]),a("a",{staticClass:"btn product-btn product-btn-right",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addToCart(t.item.id,t.item.title)}}},[t._v("加入購物")])])])])},s=[],n=(a("99af"),a("7db0"),{props:["item"],data:function(){return{carts:[]}},methods:{getProductDetail:function(t){var e=this;e.$router.push("/detail/".concat(t)).catch((function(){}))},addToCart:function(t,e){var a=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/cart");a.$http.get(i).then((function(i){a.carts=i.data.data.carts;var s=a.carts.find((function(t){return t.product.title===e})),n=0;if(s){n=s.qty;var r="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/cart/").concat(s.id);a.$http.delete(r).then((function(t){}))}var c="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/cart"),o={product_id:t,qty:n+1};a.$http.post(c,{data:o}).then((function(t){a.$bus.$emit("updateCart")}))}))}}}),r=n,c=a("2877"),o=Object(c["a"])(r,i,s,!1,null,null,null);e["a"]=o.exports},ec5a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),i("main",[i("div",{staticClass:"jumbotron-fluid"},[i("div",{staticClass:"bg-cover main_banner position-relative"},[i("div",{attrs:{id:"bannerMove"}},[i("div",{staticClass:"position-absolute position-relative d-none d-lg-block bannerMoveClass"},[i("a",{staticClass:"main_banner_center position-absolute",class:{active:"專屬傭兵"===t.BannerSwitch},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.tempBannerSwitch(e)}}},[i("p",{staticClass:"d-none"},[t._v("專屬傭兵")]),i("img",{staticClass:"img-colorful",attrs:{height:"725",src:a("1870"),alt:""}})]),i("a",{staticClass:"main_banner_left position-absolute",class:{active:"獨家技術"===t.BannerSwitch},staticStyle:{overflow:"hidden"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.tempBannerSwitch(e)}}},[i("p",{staticClass:"d-none"},[t._v("獨家技術")]),i("img",{staticClass:"img-colorful",attrs:{height:"725",src:a("34eb"),alt:""}})]),i("a",{staticClass:"main_banner_right position-absolute",class:{active:"十大建設"===t.BannerSwitch},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.tempBannerSwitch(e)}}},[i("p",{staticClass:"d-none"},[t._v("十大建設")]),i("img",{staticClass:"img-colorful",attrs:{height:"725",src:a("0f2a"),alt:""}})])])])])]),i("div",{staticClass:"bg-cover main_content-bg"},[t._m(0),i("div",[i("div",{staticClass:"container main_content-title d-flex pr-0"},[i("h2",{staticClass:"h1 mb-3 text-left"},[t._v("客戶好評")]),i("router-link",{staticClass:"align-self-end ml-auto btn title_entry",attrs:{to:"/shop"}},[i("h4",[t._v("進入商城 "),i("i",{staticClass:"fas fa-arrow-circle-right"})])])],1),i("div",{staticClass:"container content-review_bg mt-2 d-flex justify-content-between px-0"},[t.isLoading?t._e():i("swiper",{ref:"mySwiperReview",staticClass:"mx-0",staticStyle:{height:"100px"},attrs:{options:t.swiperOptionReview}},t._l(t.reviewList,(function(e,a){return i("swiper-slide",{key:a,staticClass:"ml-3"},[i("p",{staticClass:"h6 font-weight-bolder"},[t._v(t._s(e.user.name)+" : "+t._s(e.message||"好棒棒的商城，好棒棒的商品，好棒棒大集合"))])])})),1),i("div",{staticClass:"swiper-scrollbar",staticStyle:{width:"10px"}})],1)]),i("div",{attrs:{id:"hotProduct"}},[i("div",{staticClass:"container pt-5 main_content-title d-flex pr-0"},[i("h2",{staticClass:"h1 mb-3 text-left"},[t._v("商品展示")]),i("router-link",{staticClass:"align-self-end ml-auto btn title_entry",attrs:{to:"/shop"}},[i("h4",[t._v("進入商城 "),i("i",{staticClass:"fas fa-arrow-circle-right"})])])],1),i("div",{staticClass:"container d-flex justify-content-start px-0"},[i("a",{staticClass:"btn font-weight-bolder showBtn",class:{active:"專屬傭兵"===t.BannerSwitch},on:{click:function(e){return e.preventDefault(),t.tempBannerSwitch(e)}}},[t._v("專屬傭兵")]),i("a",{staticClass:"btn font-weight-bolder mx-2 showBtn",class:{active:"獨家技術"===t.BannerSwitch},on:{click:function(e){return e.preventDefault(),t.tempBannerSwitch(e)}}},[t._v("獨家技術")]),i("a",{staticClass:"btn font-weight-bolder showBtn",class:{active:"十大建設"===t.BannerSwitch},on:{click:function(e){return e.preventDefault(),t.tempBannerSwitch(e)}}},[t._v("十大建設")])]),t.isLoading?t._e():i("swiper",{ref:"mySwiper",staticClass:"container mb-5",attrs:{options:t.swiperOption}},[t._l(t.randomProducts,(function(t){return i("swiper-slide",{key:t.id},[i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-7 col-md-8 col-lg-9"},[i("ProductCard",{attrs:{item:t}})],1)])])})),i("div",{staticClass:"swiper-button-prev sw",attrs:{slot:"button-prev"},slot:"button-prev"}),i("div",{staticClass:"swiper-button-next sw",attrs:{slot:"button-next"},slot:"button-next"})],2)],1)]),i("MarketCart",{attrs:{childCarts:t.carts}})],1)],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"d-flex container align-items-center pt-5 main_content-title"},[i("h2",{staticClass:"col-12 h1 text-left mb-3"},[t._v("商城介紹")])]),i("div",{staticClass:"mb-5 part_content-bg",staticStyle:{"margin-top":"90px"}},[i("div",{staticClass:"container d-lg-flex",staticStyle:{height:"100%"}},[i("div",{staticClass:"row align-items-center"},[i("div",{staticClass:"col-lg-5"},[i("img",{staticClass:"part_img w-100",attrs:{src:a("fbea"),height:"312",alt:""}})]),i("p",{staticClass:"h5 col-lg-7 mt-4 mt-lg-0 px-5",staticStyle:{"line-height":"40px"}},[t._v("世紀商城系統支援最即時的戰爭資源，馬上下單，立即使用，讓在在戰場上，攻無不克，戰無不勝，你就是手握王者之劍的霸主，現在加入會員還有九折優惠喔。")])])])]),i("div",{staticClass:"my-5 part_content-bg part_content-bgRight"},[i("div",{staticClass:"container d-lg-flex",staticStyle:{height:"100%"}},[i("div",{staticClass:"row align-items-center flex-column-reverse flex-lg-row"},[i("p",{staticClass:"h5 col-lg-7 mt-4 mt-md-0 px-5",staticStyle:{"line-height":"40px"}},[t._v("在人人自危的世界，只有擁有最多資源的的人才會是贏家，在這個地下商城裡，傭兵、裝備...應用盡有，所有你要變強的資源都幫你準備好了。讓我們一起重返榮耀吧 !")]),i("div",{staticClass:"col-lg-5"},[i("img",{staticClass:"part_img w-100",attrs:{src:a("1a75"),height:"312",alt:""}})])])])])])}],n=(a("99af"),a("4de4"),a("a434"),a("dfa4"),a("7212")),r=a("c723"),c=a("e915"),o=a("1157"),l=a.n(o),d={components:{MarketCart:r["a"],ProductCard:c["a"],swiper:n["swiper"],swiperSlide:n["swiperSlide"]},data:function(){return{swiperOptionReview:{slidesPerView:3,speed:100,autoplay:!0,spaceBetween:10,loop:!0,scrollbar:{el:".swiper-scrollbar"},scrollbarHide:!1,scrollbarDraggable:!0,scrollbarSnapOnRelease:!0,direction:"vertical"},swiperOption:{initialSlide:0,slidesPerView:3,effect:"coverflow",autoplay:!0,coverflowEffect:{rotate:10,stretch:0,depth:100,modifier:1},loop:!0,centeredSlides:!0,direction:"horizontal",navigation:{nextEl:".swiper-button-next.sw",prevEl:".swiper-button-prev.sw"},breakpoints:{576:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:1,spaceBetween:10},992:{slidesPerView:2,spaceBetween:30}}},allProducts:[],BannerSwitch:"專屬傭兵",sizeCol:!0,fb_Id:[],pageContent:[],reviewList:[],isLoading:!1,carts:[]}},created:function(){var t=this;t.getProducts(),t.getReview(),t.getCart(),t.$bus.$on("updateCart",(function(){t.getCart()}))},methods:{getCart:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/cart"),e=this;e.$http.get(t).then((function(t){e.carts=t.data.data.carts}))},getProducts:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/products/all"),e=this;e.isLoading=!0,e.$http.get(t).then((function(t){e.allProducts=t.data.products,e.isLoading=!1}))},tempBannerSwitch:function(t){var e=this;e.BannerSwitch=t.currentTarget.text;var a=l()("#hotProduct").offset().top;l()("html, body").animate({scrollTop:a},1e3)},getReview:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/orders?page=1"),a="".concat("https://vue-course-api.hexschool.io","/api/").concat("csc98104","/orders?page=2");t.$http.get(e).then((function(e){var i=e.data.orders;t.$http.get(a).then((function(e){var a=e.data.orders;t.reviewList=i.concat(a)}))}))}},watch:{randomProductsz:function(){var t=this;t.isLoading=!0,setTimeout((function(){t.isLoading=!1}),500)}},computed:{randomProducts:function(){var t=this,e=t.allProducts.filter((function(e){return t.BannerSwitch===e.category})),a=[];if(e.length<=6)return e;for(var i=0;i<6;i++){var s=Math.floor(Math.random()*e.length);a.push(e[s]),e.splice(s,1)}return a},swiper:function(){var t=this;return t.$refs.mySwiper.swiper}}},u=window.innerWidth;if(window.screen.availWidth!==u){var p=.5*(u-window.screen.availWidth);setTimeout((function(){document.querySelector("#bannerMove").style.left="".concat(p,"px")}),10),window.onresize=function(){var t=window.innerWidth;if(t!==u){var e=.5*(t-u);document.querySelector("#bannerMove").style.left="".concat(p+e||0,"px")}else t===u&&(document.querySelector("#bannerMove").style.left="0px")}}else window.onresize=function(){var t=window.innerWidth;if(t!==u){var e=.5*(t-u);document.querySelector("#bannerMove").style.left="".concat(e||0,"px")}else t===u&&(document.querySelector("#bannerMove").style.left="0px")};var h=d,f=a("2877"),v=Object(f["a"])(h,i,s,!1,null,null,null);e["default"]=v.exports},fbea:function(t,e,a){t.exports=a.p+"img/content-img1.16c1c26e.png"}}]);
//# sourceMappingURL=chunk-1fa7e387.225d721b.js.map